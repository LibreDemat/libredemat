<?xml version="1.0" encoding="UTF-8" ?>

<cvqprocess xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	 xsi:noNamespaceSchemaLocation="processes.xsd" >

  <processes group="environment" caption="Environnement" order="7">
	<!--****************** START PROCESSUS COLLECTE D'ENCOMBRANTS *******************-->
	<process name="eBulky" caption="Encombrants" time="3">
		<title>Collecte des encombrants</title>
		<package>fr.cg95.cvq.fo.environment.bulkywaste</package>
        <persistence>fr.cg95.cvq.fo.environment.BulkyWastePersistence</persistence>

		<stage name="Information" caption="Information">
			<title>Information</title>
			<info>Informations concernant la collecte des encombrants. </info>

			<condition name="fr.cg95.cvq.fo.business.RequestManager" property="exists(html/BulkyWasteInformation.html)"/>
				
			<confirm name="terminate">Voulez-vous vraiment abandonner ?</confirm>
		
			<default>information</default>

			<previous confirm="terminate">endProcess</previous>
			<next confirm="continue"/>
			
			<state name="information" mode="static">
				<title type="document">Information</title>
				<form>/environment/bulkywaste/information/information</form>
				<button type="next" default="true" action="processSelect.do?stage=1">Page suivante</button>
			</state>
		</stage>
								
	    <!-- ******************* CHOIX DES ENCOMBRANTS *********************-->
		<stage name="Waste" caption="Encombrants" stagemenu="display">
			<title>Encombrants</title>
			<info>Renseignements sur les encombrants. </info>

			<confirm name="terminate">Voulez-vous vraiment abandonner ?</confirm>
			<confirm name="continue" check="">Vous devez enregistrer la page avant de passer à l'étape suivante</confirm>
			<confirm name="cancel">Attention ! Les données de la demande n'ont pas été enregistrées ! Voulez-vous quand même annuler la saisie ?</confirm>
			<confirm name="delete">Voulez-vous vraiment supprimer les informations sur les encombrants?</confirm>

			<default>waste</default>
			<next confirm="continue"/>
			
			<state name="waste">
				<title type="document">Type d'encombrants</title>
				<form>/environment/bulkywaste/waste/waste</form>
				<button type="cancel" confirm="cancel" action="" transition="waste">Annuler Saisie</button>
				<button type="save" default="true" script="processSubmit" action="" transition="display">Enregistrer</button>
			</state>
						
			<state name="display" mode="static">
				<title type="document">Type d'encombrants</title>
				<form>/environment/bulkywaste/waste/display</form>
				<button type="delete" confirm="delete" action="reset" transition="waste">Supprimer</button>
				<button type="modify" transition="waste" action="">Modifier</button>
			</state>
						
		</stage>
		
		<stage ref="Documents"/>
		
		<!-- ******************* VALIDATION *********************-->	
		<stage name="Validation" caption="Validation" stagemenu="display">
			<title>Validation et fin</title>
			<info>Résumé des informations fournies. A valider pour la création de votre demande</info>
		  
			<default>summary</default>

			<next>false</next>
			
			<state name="summary" mode="static">
				<form>/common/validation/requester</form>
				<form>/environment/bulkywaste/validation/summary</form>
				<form>/common/validation/documents</form>
				<button type="quit" script="cancelRequest()">Annuler la demande</button>
				<button type="next" default="true" script="processSubmit" action="" transition="validation">Page suivante</button>
			</state>

			<state name="validation">
				<form>/common/validation/validation</form>
				<button type="quit" script="cancelRequest()">Annuler la demande</button>
				<button type="save" script="validateRequest()">Enregistrer</button>
			</state>

			<state name="trace">
				<form>/common/validation/trace</form>
				<button type="quit" script="cancelRequest()">Annuler la demande</button>
				<button type="save" script="validateRequest()">Enregistrer</button>
			</state>

			<state name="print" buttonArea="none" mode="noreturn">
				<form>/common/validation/print</form>
			</state>

		</stage>
	</process>

	<!--****************** START PROCESSUS COLLECTE DES DECHETS VERTS *******************-->
	<process name="eCompostable" caption="Déchets verts" time="3">
		<title>Collecte des déchets verts</title>
		<package>fr.cg95.cvq.fo.environment.compostablewaste</package>
        <persistence>fr.cg95.cvq.fo.environment.CompostableWastePersistence</persistence>

		<stage name="Information" caption="Information">
			<title>Information</title>
			<info>Informations concernant la collecte des déchets verts. </info>

			<condition name="fr.cg95.cvq.fo.business.RequestManager" property="exists(html/CompostableWasteInformation.html)"/>
				
			<confirm name="terminate">Voulez-vous vraiment abandonner ?</confirm>
		
			<default>information</default>

			<previous confirm="terminate">endProcess</previous>
			<next confirm="continue"/>
			
			<state name="information" mode="static">
				<title type="document">Information</title>
				<form>/environment/compostablewaste/information/information</form>
				<button type="next" default="true" action="processSelect.do?stage=1">Page suivante</button>
			</state>
		</stage>
								
	    <!-- ******************* CHOIX DES ENCOMBRANTS *********************-->
		<stage name="Waste" caption="Déchets verts" stagemenu="display">
			<title>Déchets verts</title>
			<info>Renseignements sur les déchets verts. </info>

			<confirm name="terminate">Voulez-vous vraiment abandonner ?</confirm>
			<confirm name="continue" check="">Vous devez enregistrer la page avant de passer à l'étape suivante</confirm>
			<confirm name="cancel">Attention ! Les données de la demande n'ont pas été enregistrées ! Voulez-vous quand même annuler la saisie ?</confirm>
			<confirm name="delete">Voulez-vous vraiment supprimer les informations sur les déchets verts?</confirm>

			<default>waste</default>
			<next confirm="continue"/>
			
			<state name="waste">
				<title type="document">Type de déchets verts</title>
				<form>/environment/compostablewaste/waste/waste</form>
				<button type="cancel" confirm="cancel" action="" transition="waste">Annuler Saisie</button>
				<button type="save" default="true" script="processSubmit" action="" transition="display">Enregistrer</button>
			</state>
						
			<state name="display" mode="static">
				<title type="document">Type de déchets verts</title>
				<form>/environment/compostablewaste/waste/display</form>
				<button type="delete" confirm="delete" action="reset" transition="waste">Supprimer</button>
				<button type="modify" transition="waste" action="">Modifier</button>
			</state>
						
		</stage>
		
		<stage ref="Documents"/>
		
		<!-- ******************* VALIDATION *********************-->	
		<stage name="Validation" caption="Validation" stagemenu="display">
			<title>Validation et fin</title>
			<info>Résumé des informations fournies. A valider pour la création de votre demande</info>
		  
			<default>summary</default>

			<next>false</next>
			
			<state name="summary" mode="static">
				<form>/common/validation/requester</form>
				<form>/environment/compostablewaste/validation/summary</form>
				<form>/common/validation/documents</form>
				<button type="quit" script="cancelRequest()">Annuler la demande</button>
				<button type="next" default="true" script="processSubmit" action="" transition="validation">Page suivante</button>
			</state>

			<state name="validation">
				<form>/common/validation/validation</form>
				<button type="quit" script="cancelRequest()">Annuler la demande</button>
				<button type="save" script="validateRequest()">Enregistrer</button>
			</state>

			<state name="trace">
				<form>/common/validation/trace</form>
				<button type="quit" script="cancelRequest()">Annuler la demande</button>
				<button type="save" script="validateRequest()">Enregistrer</button>
			</state>

			<state name="print" buttonArea="none" mode="noreturn">
				<form>/common/validation/print</form>
			</state>

		</stage>
	</process>
  </processes>		
</cvqprocess>
	